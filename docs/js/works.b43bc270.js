"use strict";(self["webpackChunki_icc"]=self["webpackChunki_icc"]||[]).push([[211],{8762:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var r=e(9143),o=e(2898);const n={class:"container"},a={class:"display-5 mb-3 text-center",style:{color:"#666"}},c={class:"works"};function l(t,s,e,l,i,u){const h=(0,r.g2)("WorksComponent");return(0,r.uX)(),(0,r.CE)("main",n,[s[0]||(s[0]=(0,r.Lk)("div",{class:"text-lg-center mb-4 mt-2",style:{"font-size":"4rem","font-family":"'Kosugi Maru', sans-serif"}}," 制作物 ",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.groupedWorks,([t,s])=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"mb-5"},[(0,r.Lk)("h2",a,(0,o.v_)(t),1),(0,r.Lk)("div",c,[(0,r.bF)(h,{works:s,tag:i.tag},null,8,["works","tag"])])]))),128))])}e(469),e(3876),e(5129);var i=e(9468),u={data(){return{all_works:[],works:[],tag:null}},computed:{groupedWorks(){const t={};return this.works.forEach(s=>{let e=s.date.substring(0,4);"????"===e&&(e="年不明"),t[e]||(t[e]=[]),t[e].push(s)}),Object.entries(t).sort(([t],[s])=>"年不明"===t?1:"年不明"===s?-1:parseInt(s)-parseInt(t))}},methods:{select_work:function(){this.works=[];for(const t of this.all_works)(t.tag.includes(this.tag)||null==this.tag)&&this.works.push(t)}},watch:{$route:function(t,s){t!==s?(this.tag=this.$route.query.tag,this.select_work()):this.select_work()}},mounted(){this.tag=this.$route.query.tag,fetch("/works/show_list.json").then(t=>t.json()).then(t=>{const s=[];for(var e=t.from;e<=t.to;e++)s.push(fetch(`/works/${e}.json`).then(t=>t.json()));Promise.all(s).then(t=>{this.all_works=t.sort((t,s)=>{const e=new Date(t.date.replace(/\?/g,"1").replace("/","-")),r=new Date(s.date.replace(/\?/g,"1").replace("/","-"));return r-e}),this.select_work()})})},components:{WorksComponent:i.A}},h=e(5077);const k=(0,h.A)(u,[["render",l]]);var w=k}}]);
//# sourceMappingURL=works.b43bc270.js.map